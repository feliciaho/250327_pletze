import{createApp}from"https://unpkg.com/petite-vue@0.4.1/dist/petite-vue.es.js";createApp({nowBg:1,asideNum:0,mapIndex:0,npcIndex:0,backTop(){$("html, body").animate({scrollTop:0},500)},asideScroll(e){var t=$("#s"+e).offset().top-80;$("html,body").animate({scrollTop:t},500),this.asideNum=e},scrollEvent(){let e;$(window).on("scroll",(()=>{clearTimeout(e),e=setTimeout((()=>{var e=$(window).scrollTop(),t=$("#s1").offset().top-80,n=$("#s2").offset().top-80,i=$("#s3").offset().top-100;t<=e&&e<n?this.asideNum=1:n<=e&&e<i?this.asideNum=2:i<=e&&(this.asideNum=3),e<t?$(".aside").fadeOut():$(".aside").fadeIn()}),100)}))},mapSwitch(e){this.mapIndex=e;$("section#s2 .swiper-container")[0].swiper.slideToLoop(e,500)},npcSwitch(e){this.npcIndex=e;$("section#s3 .swiper-container")[0].swiper.slideToLoop(e,500)},fetchNavList(e,t){$.ajax({url:e,type:"GET",success:function(e){if(e){let n="";e.forEach((e=>{let t="";e.items.forEach((e=>{var n=e.new_tab?"_blank":"_self";t+=`<li><a href="${e.url}" target="${n}">${e.title}</a></li>`})),n+=`\n              <li>\n                <p class="title">${e.title}</p>\n                <ul class="list">${t}</ul>\n              </li>\n            `})),$(t).append(n)}}})},fetchNavListLeft(e,t){$.ajax({url:e,type:"GET",success:function(e){if(e){let n="";e.forEach((e=>{screen.width<768&&(e.id=e.id2),n+=`\n              <a id="${e.id}" href="${e.url}" target="_blank"> \n                <div class="ver_box">\n                  <div class="icon">\n                    <img src="${e.img}" alt="">\n                  </div>\n\n                  <div class="txt">\n                    <div class="sub_title">\n                      <h5>${e.sub_title}</h5>\n                    </div>\n                    <div class="title">\n                      <h5>${e.title}</h5>\n                    </div>\n                  </div>\n\n                </div>\n              </a>\n            `})),$(t).append(n)}}})},mounted(){AOS.init(),this.scrollEvent();var e="127.0.0.1"==document.domain?"http://127.0.0.1:8888/landing":"https://landing.mangot5.com";let t;this.fetchNavListLeft(e+"/template/lostark/event/nav/json/nav_version_left.json","#nav_version_left"),$.ajax({url:e+"/template/lostark/event/nav/footer.html",type:"GET",success:function(e){$("#ft").html(e)}}),$(".nav-left #ver_toggler").on("click",(function(){$(".nav-left #ver_toggler").toggleClass("open"),$(".nav-left").toggleClass("open"),$(".nav-right").removeClass("open")}));let n=!1;async function i(e){n=new Promise((function(e){e(!0)}))}$("#videoModal").on("show.bs.modal",(function(){t=t||new YT.Player("videoPlayer",{height:"680",width:"1200",videoId:"Pmh3etmskJ8",events:{onReady:i}}),n?t.playVideo():setTimeout((()=>{t.playVideo()}),2e3)})),$("#videoModal").on("hide.bs.modal",(function(){t.pauseVideo()})),$("#btn-video").on("click",(function(){$("#videoModal").modal("show")})),new Swiper("section#s2 .swiper-container",{loop:!0,navigation:{nextEl:"section#s2 .swiper-button-next",prevEl:"section#s2 .swiper-button-prev"},pagination:{el:"section#s2 .swiper-pagination",clickable:!0},on:{slideChange:e=>{this.mapIndex=e.realIndex;const t=$("section#s2 .swiper-pagination-bullet");t.hide(),0<=(e=e.realIndex)&&e<3?t.slice(0,3).show():3<=e&&e<6&&t.slice(3,6).show()}}}),new Swiper("section#s3 .swiper-container",{loop:!0,navigation:{nextEl:"section#s3 .swiper-button-next",prevEl:"section#s3 .swiper-button-prev"},on:{slideChange:e=>{this.npcIndex=e.realIndex}}})}}).mount();